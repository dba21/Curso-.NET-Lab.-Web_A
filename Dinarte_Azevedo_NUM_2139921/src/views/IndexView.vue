<template>
  <div class="home">
    <header>
        <div class="slider-frame">
            <div class="slide-image">
                <div class="img-container">
                    <img src="../assets/Brisa.jpg">
                </div>
                <div class="img-container">
                    <img src="../assets/FabricaStAntonio.jpg">
                </div>
                <div class="img-container">
                    <img src="../assets/uaucacau.png">
                </div>
            </div>
        </div>
    </header>
    <section class="py-5">
      <div class="container px-4 px-lg-5 mt-5">
        <div
          class="
            row
            gx-4 gx-lg-5
            row-cols-2 row-cols-md-3 row-cols-xl-4
            justify-content-center
          "
        >

        <div class="col mb-5 product">
                    <div class="card h-100 product-under">
                        <figure class="product-image">
                            <img class="card-img-top product-image" src="../assets/uaucacau_chocolates.jpg" />
                            <div class="product-summary text-center card-body p-4">
                                <h5 class="productName fw-bolder">Caixa de Chocolates</h5>
                                <span class="stars"></span>
                                <h6 class="price">
                                    <span class="priceValue">12.00</span>€
                                </h6>
                            </div>
                            <div class="text-center">
                                <button class="mt-auto btn btn-outline-dark addToCart" data-product-id="1">
                                Adicionar ao Carrinho
                                </button>
                            </div>
                        </figure>
                    </div>
                </div>
          

          <div class="col mb-5">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="../assets/BoloMelFabricaStAntonio.webp"
              />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Bolo Mel</h5>
                  <p class="fw-bolder">Fabrica St. Antonio</p>
                  8.50€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto">Detalhes</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-5">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="../assets/RebucadosdeEucalipto.webp"
              />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Rebucados de Eucalipto</h5>
                  <div
                    class="
                      d-flex
                      justify-content-center
                      small
                      text-warning
                      mb-2
                    "
                  >
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                  </div>
                  <span class="text-muted text-decoration-line-through"
                    >3.00€</span
                  >
                  2.50€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto"
                    >Adicionar ao Carrinho</a
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="col mb-5 product">
                    <div class="card h-100 product-under">
                        <figure class="product-image">
                            <img class="card-img-top product-image" src="../assets/BroasdeMel.webp" />
                            <div class="product-summary text-center card-body p-4">
                                <h5 class="productName fw-bolder">Broas de Mel Cana</h5>
                                <span class="stars"></span>
                                <h6 class="price">
                                    <span class="priceValue">1.99</span>€
                                </h6>
                            </div>
                            <div class="text-center">
                                <button class="mt-auto btn btn-outline-dark addToCart" data-product-id="2">
                                Adicionar ao Carrinho
                                </button>
                            </div>
                        </figure>
                    </div>
                </div>

          
        </div>
      </div>
      <div class="container px-4 px-lg-5 mt-5">
        <div
          class="
            row
            gx-4 gx-lg-5
            row-cols-2 row-cols-md-3 row-cols-xl-4
            justify-content-center
          "
        >
          <div class="col mb-5">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="../assets/VinhoMadeiraBlandys.jpg"
              />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Vinho Madeira Blandys 5 Anos</h5>
                  10.00€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto" href="#">Detalhes</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-5">
            <div class="card h-100">
              <img class="card-img-top" src="../assets/Justino.jpg" />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Produto</h5>
                  15.00€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto">Detalhes</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-5">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="../assets/HenriquesHenriques3Anos.jpg"
              />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Henriques Henriques</h5>
                  <p class="fw-bolder">Promoção</p>
                  <div
                    class="
                      d-flex
                      justify-content-center
                      small
                      text-warning
                      mb-2
                    "
                  >
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                  </div>
                  <span class="text-muted text-decoration-line-through"
                    >20.00€</span
                  >
                  18.00€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto"
                    >Adicionar ao Carrinho</a
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="col mb-5">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="../assets/Justinos10AnosSercial.jpg"
              />
              <div class="card-body p-4">
                <div class="text-center">
                  <h5 class="fw-bolder">Justinos 10 Anos Sercial</h5>
                  <div
                    class="
                      d-flex
                      justify-content-center
                      small
                      text-warning
                      mb-2
                    "
                  >
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                  </div>
                  40.00€
                </div>
              </div>
              <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                <div class="text-center">
                  <a class="btn btn-outline-dark mt-auto"
                    >Adicionar ao Carrinho</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
body{
    padding: 0;
    margin: 0;
    background-color: floralwhite;
}

.slider-frame{
    overflow: hidden;
    height: 300px;
    width: 100%;
}

@-webkit-keyframes slide_animation{
    0% {left: 0px;}
    10% {left: 0px;}
    20% {left: 1200px;}
    30% {left: 1200px;}
    40% {left: 2400px;}
    50% {left: 2400px;}
    60% {left: 1200px;}
    70% {left: 1200px;}
    80% {left: 0px;}
    90% {left: 0px;}
    100% {left: 0px;}
}
    
.slide-image{
    width: 3600px;
    height: 800px;
    margin: 0 0 0 -2400px;
    position: relative;
    -webkit-animation-name: slide_animation;
    -webkit-animation-duration: 30s;
    -webkit-animation-iteration-count: infinite;
    -webkit-animation-direction: alternate;
    -webkit-animation-play-state: running;
}

.img-container {
    height: 800px;
    width: 1200px;
    position: relative;
    float: left;
  }
  </style>

// <script>
// let productsInCart = JSON.parse(localStorage.getItem('shoppingCart'));
// if(!productsInCart){
// 	productsInCart = [];
// }
// const parentElement = document.querySelector('#buyItems');
// const cartSumPrice = document.querySelector('#sum-prices');
// const products = document.querySelectorAll('.product-under');


// const countTheSumPrice = function () {
// 	let sum = 0;
// 	productsInCart.forEach(item => {
// 		sum += item.price;
// 	});
// 	return sum;
// }

// const updateShoppingCartHTML = function () {
// 	localStorage.setItem('shoppingCart', JSON.stringify(productsInCart));
// 	if (productsInCart.length > 0) {
// 		let result = productsInCart.map(product => {
// 			return `
// 				<li class="buyItem">
// 					<img src="${product.image}">
// 					<div>
// 						<h5>${product.name}</h5>
// 						<h6>$${product.price}</h6>
// 						<div>
// 							<button class="button-minus" data-id=${product.id}>-</button>
// 							<span class="countOfProduct">${product.count}</span>
// 							<button class="button-plus" data-id=${product.id}>+</button>
// 						</div>
// 					</div>
// 				</li>`
// 		});
// 		parentElement.innerHTML = result.join('');
// 		document.querySelector('.checkout').classList.remove('hidden');
// 		cartSumPrice.innerHTML = countTheSumPrice() + ' €';
// 	}
// 	else {
// 		document.querySelector('.checkout').classList.add('hidden');
// 		parentElement.innerHTML = '<h4 class="empty">O seu carrinho de compras esta vazio.</h4>';
// 		cartSumPrice.innerHTML = '';
// 	}
// }

// function updateProductsInCart(product) {
// 	for (let i = 0; i < productsInCart.length; i++) {
// 		if (productsInCart[i].id == product.id) {
// 			productsInCart[i].count += 1;
// 			productsInCart[i].price = productsInCart[i].basePrice * productsInCart[i].count;
// 			return;
// 		}
// 	}
// 	productsInCart.push(product);
// }

// products.forEach(item => {
// 	item.addEventListener('click', (e) => {
// 		if (e.target.classList.contains('addToCart')) {
// 			const productID = e.target.dataset.productId;
// 			const productName = item.querySelector('.productName').innerHTML;
// 			const productPrice = item.querySelector('.priceValue').innerHTML;
// 			const productImage = item.querySelector('img').src;
// 			let product = {
// 				name: productName,
// 				image: productImage,
// 				id: productID,
// 				count: 1,
// 				price: +productPrice,
// 				basePrice: +productPrice,
// 			}
// 			updateProductsInCart(product);
// 			updateShoppingCartHTML();
// 		}
// 	});
// });

// parentElement.addEventListener('click', (e) => {
// 	const isPlusButton = e.target.classList.contains('button-plus');
// 	const isMinusButton = e.target.classList.contains('button-minus');
// 	if (isPlusButton || isMinusButton) {
// 		for (let i = 0; i < productsInCart.length; i++) {
// 			if (productsInCart[i].id == e.target.dataset.id) {
// 				if (isPlusButton) {
// 					productsInCart[i].count += 1
// 				}
// 				else if (isMinusButton) {
// 					productsInCart[i].count -= 1
// 				}
// 				productsInCart[i].price = productsInCart[i].basePrice * productsInCart[i].count;
// 			}
// 			if (productsInCart[i].count <= 0) {
// 				productsInCart.splice(i, 1);
// 			}
// 		}
// 		updateShoppingCartHTML();
// 	}
// });
// updateShoppingCartHTML();


// </script>
